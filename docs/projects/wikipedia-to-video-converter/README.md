# wikipedia2video-plus
ä»ç»´åŸºç™¾ç§‘é¡µé¢è‡ªåŠ¨æå–å†…å®¹ï¼Œç”Ÿæˆå¤šé›†è§†é¢‘ç³»åˆ—çš„å·¥å…·ã€‚æ”¯æŒ AI é©±åŠ¨çš„è„šæœ¬ç”Ÿæˆã€å¹¶è¡Œè§†é¢‘æ¸²æŸ“ä¸è‡ªåŠ¨åˆå¹¶ï¼Œå¯å¿«é€Ÿå°†ç™¾ç§‘çŸ¥è¯†è½¬åŒ–ä¸ºå¯è§†åŒ–è§†é¢‘å†…å®¹ã€‚

ä»“åº“åœ°å€ï¼š[https://github.com/XiaomingX/wikipedia2video-plus](https://github.com/XiaomingX/wikipedia2video-plus)


## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§
- **è‡ªåŠ¨å†…å®¹æå–**ï¼šé€šè¿‡ç»´åŸºç™¾ç§‘ API æŠ“å–é¡µé¢æ ‡é¢˜ä¸æ‘˜è¦ï¼Œæ— éœ€æ‰‹åŠ¨æ•´ç†æ–‡æœ¬ã€‚
- **AI è„šæœ¬ç”Ÿæˆ**ï¼šåŸºäº OpenAI æ¨¡å‹ï¼ˆå¦‚ GPT-4o-miniï¼‰ï¼Œå°†ç™¾ç§‘å†…å®¹è½¬åŒ–ä¸ºç»“æ„åŒ–è§†é¢‘è„šæœ¬ï¼ˆæ”¯æŒå¤šé›†åˆ†å‰²ï¼‰ã€‚
- **å¹¶è¡Œè§†é¢‘æ¸²æŸ“**ï¼šå€ŸåŠ© Replicate å¹³å°è°ƒç”¨è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ Pixverseï¼‰ï¼Œå¤šé›†è§†é¢‘å¹¶è¡Œç”Ÿæˆï¼Œæå‡æ•ˆç‡ã€‚
- **è‡ªåŠ¨è§†é¢‘åˆå¹¶**ï¼šç”Ÿæˆå¤šé›†è§†é¢‘åï¼Œè‡ªåŠ¨æ‹¼æ¥ä¸ºå®Œæ•´è§†é¢‘æ–‡ä»¶ï¼Œæ— éœ€é¢å¤–å‰ªè¾‘å·¥å…·ã€‚
- **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰è§†é¢‘é›†æ•°ã€AI æ¨¡å‹ã€è¾“å‡ºè·¯å¾„ç­‰å‚æ•°ï¼Œé€‚é…ä¸åŒä½¿ç”¨åœºæ™¯ã€‚


## ğŸš€ å¿«é€Ÿå¼€å§‹
### 1. ç¯å¢ƒå‡†å¤‡
- **Python ç‰ˆæœ¬**ï¼š3.8 åŠä»¥ä¸Š
- **å¿…è¦ API å¯†é’¥**ï¼š
  - OpenAI API Keyï¼ˆç”¨äºç”Ÿæˆè§†é¢‘è„šæœ¬ï¼‰
  - Replicate API Tokenï¼ˆç”¨äºç”Ÿæˆè§†é¢‘ï¼‰
- **ä¾èµ–å·¥å…·**ï¼šFFmpegï¼ˆMoviePy è§†é¢‘å¤„ç†ä¾èµ–ï¼Œéœ€æå‰å®‰è£…ï¼‰


### 2. å®‰è£…æ­¥éª¤
#### æ­¥éª¤ 1ï¼šå…‹éš†ä»“åº“
```bash
git clone https://github.com/XiaomingX/wikipedia2video-plus.git
cd wikipedia2video-plus
```

#### æ­¥éª¤ 2ï¼šé…ç½®ç¯å¢ƒå˜é‡
1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼Œå¡«å…¥ API å¯†é’¥ï¼š
   ```env
   # .env æ–‡ä»¶å†…å®¹
   OPENAI_API_KEY=your-openai-api-key
   REPLICATE_API_TOKEN=your-replicate-api-token
   ```

#### æ­¥éª¤ 3ï¼šå®‰è£…ä¾èµ–åŒ…
```bash
pip install -r requirements.txt
```
- **ä¾èµ–åˆ—è¡¨è¯´æ˜**ï¼ˆ`requirements.txt` å†…å®¹ï¼‰ï¼š
  ```txt
  openai>=1.0.0
  replicate>=0.20.0
  aiohttp>=3.9.0
  aiofiles>=23.2.0
  python-dotenv>=1.0.0
  moviepy>=1.0.3
  argparse>=1.4.0
  ```

#### æ­¥éª¤ 4ï¼šå®‰è£… FFmpeg
- **Windows**ï¼šä¸‹è½½ [FFmpeg å®‰è£…åŒ…](https://ffmpeg.org/download.html#build-windows)ï¼Œæ·»åŠ å®‰è£…è·¯å¾„åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ `PATH`ã€‚
- **macOS**ï¼šé€šè¿‡ Homebrew å®‰è£…ï¼š`brew install ffmpeg`
- **Linux**ï¼šé€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š`sudo apt install ffmpeg`ï¼ˆUbuntu/Debianï¼‰æˆ– `sudo dnf install ffmpeg`ï¼ˆCentOS/Fedoraï¼‰


### 3. ä½¿ç”¨æŒ‡å—
#### æ­¥éª¤ 1ï¼šå‡†å¤‡ä¸»æç¤ºè¯æ¨¡æ¿
1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `inputs` æ–‡ä»¶å¤¹ï¼ˆç”¨äºå­˜æ”¾æç¤ºè¯æ¨¡æ¿ï¼‰ã€‚
2. åœ¨ `inputs` ä¸­åˆ›å»ºæç¤ºè¯æ–‡ä»¶ï¼ˆå¦‚ `master_prompt.txt`ï¼‰ï¼Œç¤ºä¾‹å†…å®¹ï¼š
   ```txt
   ä½ éœ€è¦å°†ç»´åŸºç™¾ç§‘å†…å®¹è½¬åŒ–ä¸ºåˆ†é›†è§†é¢‘è„šæœ¬ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š
   1. æ¯é›†è„šæœ¬åŒ…å«ã€Œåœºæ™¯æè¿°ã€å’Œã€Œæ—ç™½æ–‡æœ¬ã€ï¼Œè¯­è¨€ç®€æ´æ˜“æ‡‚ï¼Œç¬¦åˆè§†é¢‘å¯è§†åŒ–é€»è¾‘ï¼›
   2. æŒ‰ã€ŒEpisode X:ã€æ ¼å¼åˆ†å‰²æ¯é›†ï¼ˆX ä¸ºé›†æ•°åºå·ï¼‰ï¼Œå…±ç”Ÿæˆ {episodes} é›†ï¼›
   3. å†…å®¹ä¸¥æ ¼åŸºäºç»™å®šçš„ç»´åŸºç™¾ç§‘æ ‡é¢˜å’Œæ‘˜è¦ï¼Œä¸æ·»åŠ æ— å…³ä¿¡æ¯ã€‚
   ```

#### æ­¥éª¤ 2ï¼šè¿è¡Œå·¥å…·
é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œä¸»è„šæœ¬ï¼ˆå‡è®¾ä¸»è„šæœ¬åä¸º `wikipedia2video.py`ï¼‰ï¼Œç¤ºä¾‹ï¼š
```bash
# ç”Ÿæˆ 3 é›†å…³äºã€ŒPython ç¼–ç¨‹è¯­è¨€ã€çš„è§†é¢‘
python wikipedia2video.py \
  --urls "https://en.wikipedia.org/wiki/Python_(programming_language)" \
  --master-prompt "master_prompt.txt" \
  --episodes 3 \
  --prompt-model "gpt-4o-mini" \
  --video-model "pixverse/pixverse-v4.5"
```

#### æ­¥éª¤ 3ï¼šæŸ¥çœ‹è¾“å‡ºç»“æœ
- ç”Ÿæˆçš„è§†é¢‘ã€è„šæœ¬æ–‡ä»¶ä¼šä¿å­˜åœ¨ `output/[ç»´åŸºç™¾ç§‘æ ‡é¢˜]/` ç›®å½•ä¸‹ï¼š
  - å•é›†è§†é¢‘ï¼š`output/Python_(programming_language)/Python_(programming_language)_episode_0.mp4`
  - å®Œæ•´åˆå¹¶è§†é¢‘ï¼š`output/Python_(programming_language)/Python_(programming_language)_complete.mp4`
  - ç”Ÿæˆçš„è„šæœ¬ï¼š`output/Python_(programming_language)/Python_(programming_language)_prompt.txt`


## âš™ï¸ é…ç½®è¯´æ˜
### å‘½ä»¤è¡Œå‚æ•°è¯¦è§£
| å‚æ•°å          | é»˜è®¤å€¼                          | è¯´æ˜                                                                 |
|-----------------|---------------------------------|----------------------------------------------------------------------|
| `--urls`        | æ— ï¼ˆå¿…å¡«ï¼‰                      | ç»´åŸºç™¾ç§‘é¡µé¢ URL åˆ—è¡¨ï¼Œæ”¯æŒåŒæ—¶å¤„ç†å¤šä¸ª URLï¼ˆå¦‚ `--urls "url1" "url2"`ï¼‰ |
| `--master-prompt` | "master_prompt.txt"            | ä¸»æç¤ºè¯æ¨¡æ¿æ–‡ä»¶åï¼ˆå­˜æ”¾äº `inputs` ç›®å½•ä¸‹ï¼‰                         |
| `--prompt-model` | "gpt-4o-mini"                  | ç”Ÿæˆè„šæœ¬ä½¿ç”¨çš„ OpenAI æ¨¡å‹ï¼ˆå¦‚ `gpt-3.5-turbo`ã€`gpt-4o`ï¼‰           |
| `--video-model`  | "pixverse/pixverse-v4.5"        | ç”Ÿæˆè§†é¢‘ä½¿ç”¨çš„ Replicate æ¨¡å‹ï¼ˆå¦‚ `runwayml/stable-diffusion-v1-5-video`ï¼‰ |
| `--episodes`     | 3                               | ç”Ÿæˆçš„è§†é¢‘é›†æ•°ï¼ˆéœ€ä¸æç¤ºè¯æ¨¡æ¿ä¸­çš„åˆ†é›†é€»è¾‘åŒ¹é…ï¼‰                     |


### ç›®å½•ç»“æ„è¯´æ˜
```
wikipedia2video-plus/
â”œâ”€â”€ inputs/                # å­˜æ”¾æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ master_prompt.txt  # ä¸»æç¤ºè¯æ¨¡æ¿ï¼ˆç¤ºä¾‹ï¼‰
â”œâ”€â”€ output/                # å­˜æ”¾è¾“å‡ºæ–‡ä»¶
â”‚   â””â”€â”€ [é¡µé¢æ ‡é¢˜]/        # æŒ‰ç»´åŸºç™¾ç§‘é¡µé¢æ ‡é¢˜åˆ†ç›®å½•
â”‚       â”œâ”€â”€ [æ ‡é¢˜]_prompt.txt  # ç”Ÿæˆçš„è§†é¢‘è„šæœ¬
â”‚       â”œâ”€â”€ [æ ‡é¢˜]_episode_0.mp4  # å•é›†è§†é¢‘1
â”‚       â””â”€â”€ [æ ‡é¢˜]_complete.mp4  # åˆå¹¶åçš„å®Œæ•´è§†é¢‘
â”œâ”€â”€ .env                   # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆAPIå¯†é’¥ç­‰ï¼‰
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ LICENSE                # Apache-2.0 è®¸å¯è¯æ–‡ä»¶
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆæœ¬æ–‡æ¡£ï¼‰
â”œâ”€â”€ requirements.txt       # é¡¹ç›®ä¾èµ–åˆ—è¡¨
â””â”€â”€ wikipedia2video.py     # ä¸»ç¨‹åºè„šæœ¬
```


## ğŸ“„ è®¸å¯è¯
æœ¬é¡¹ç›®åŸºäº **Apache License 2.0** å¼€æºï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚


## ğŸ¤ è´¡çŒ®æŒ‡å—
1. Fork æœ¬ä»“åº“ï¼ˆç‚¹å‡» GitHub é¡µé¢å³ä¸Šè§’ã€ŒForkã€æŒ‰é’®ï¼‰ã€‚
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/your-feature`ã€‚
3. æäº¤ä¿®æ”¹ï¼š`git commit -m "Add your feature"`ã€‚
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/your-feature`ã€‚
5. æäº¤ Pull Requestï¼ˆPRï¼‰ï¼Œæè¿°ä½ çš„ä¿®æ”¹å†…å®¹ä¸ç”¨é€”ã€‚